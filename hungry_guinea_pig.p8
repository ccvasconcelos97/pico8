pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- the hungry guinea pig must
-- find and eat all the cookies

function _init()
 player = {
  sprite = 0,
  size = 2,
  x = 60,
  y = 60,
  flip_x = false,
  flip_y = false,
  eating = false,
  hp = 0,
  hp_width = 0,
 }
end

function _update60()
 if btn(0) then left() end -- left
 if btn(1) then right() end -- right
 if btn(2) then up() end -- up
 if btn(3) then down() end -- down
 check_player_position()
 check_player_hp()
end

function left()
 player.x -= 0.5
 player.flip_x = true
 player.flip_y = false
 player.sprite = 0
end

function right()
 player.x += 0.5
 player.flip_x = false
 player.flip_y = false
 player.sprite = 0
end

function up()
 player.y -= 0.5
 player.flip_y = false
 player.flip_x = false
 player.sprite = 2
end

function down()
 player.y += 0.5
 player.flip_y = true
 player.flip_x = false
 player.sprite = 2
end

function check_player_position()
 x_sprite_pos = flr((player.x+8)/8)
 y_sprite_pos = flr((player.y+8)/8)
 sprite_under = mget(x_sprite_pos, y_sprite_pos)

 if sprite_under == 4 then
  if player.eating == false then
   player.eating = true
   sfx(0)
   player.hp += 25
   mset(x_sprite_pos, y_sprite_pos, 5)
  end
 else
  player.eating = false
 end
end

function check_player_hp()
 player.hp_width = 128 * player.hp / 100
end

function _draw()
 cls()
 if player.hp < 100 then
  map()
  spr(player.sprite, player.x, player.y, player.size, player.size, player.flip_x, player.flip_y)

  if player.hp > 0 then
   rectfill(0, 0, player.hp_width, 4, 14)
  end
 else
  cls(14)
  print("you are no longer hungry", 15, 63, 2)
 end
end

__gfx__
00000000000000000000555555550000333ff3333333333333355333333555333333333333333333333333330000000000000000000000000000000000000000
0000000000000000000575997757500033ffff3333333333335bb5333356665337333333333333333333bb330000000000000000000000000000000000000000
000000000000000000555999777555003ff4fff33333333331bbbb133316661379733373333333333333b3330000000000000000000000000000000000000000
000000000000000000559959957755003fffff4f3333333331bbbb133316661337bb3797333666633bb3b33b0000000000000000000000000000000000000000
00000005500055000059995995777500fff4ffff333333331bbbbbb131666661333bbb733366666333b3b3bb0000000000000000000000000000000000000000
00055554455554500059999997777500f4fff4f3333333331bbbbbb131566661333b33333666665333b3b3b30000000000000000000000000000000000000000
005447549997755000599997777775003ff4fff333333333311441131555666133bb33333555553333b333330000000000000000000000000000000000000000
0544447599977750000597777777500033fff3333333333333344333155555513bb3333333333333333333330000000000000000000000000000000000000000
54444479975977950057777777444500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
54444779955977950054777777444500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
544447799997fff50054477777744500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
54444477997775750054447777744500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
05455555455555500054447777744500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
05f50005f505f5000005444444445000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00500000500050000005f555555f5000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000500000050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
33333333333333333333333333333333333333333333333333333333333333333333333333355533333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333566653333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333166613333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333166613333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333331666661333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333331566661333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333315556661333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333315555551333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333ff3333333333333333333
3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333ffff333333333333333333
333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333ff4fff33333333333333333
333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333fffff4f3333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333fff4ffff3333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333f4fff4f33333333333333333
333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333ff4fff33333333333333333
3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333fff3333333333333333333
3333333333333333333ff33333333333333333333333333333333333333333333333333333333333333333333333333333355333333333333333333333333333
333333333333333333ffff333333333333333333333333333333bb333333333333333333333333333333333333333333335bb533333333333333333333333333
33333333333333333ff4fff33333333333333333333333333333b333333333333333333333333333333333333333333331bbbb13333333333333333333333333
33333333333333333fffff4f3333333333333333333333333bb3b33b333333333333333333333333333333333333333331bbbb13333333333333333333333333
3333333333333333fff4ffff33333333333333333333333333b3b3bb33333333333333333333333333333333333333331bbbbbb1333333333333333333333333
3333333333333333f4fff4f333333333333333333333333333b3b3b333333333333333333333333333333333333333331bbbbbb1333333333333333333333333
33333333333333333ff4fff333333333333333333333333333b33333333333333333333333333333333333333333333331144113333333333333333333333333
333333333333333333fff33333333333333333333333333333333333333333333333333333333333333333333333333333344333333333333333333333333333
33333333333333333333333333333333333553333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333335bb5333333333333333333333333333333333337333333333333333333333333333333333333333333333333333333
3333333333333333333333333333333331bbbb133333333333333333333333333333333379733373333333333333333333333333333333333333333333333333
3333333333333333333333333333333331bbbb133333333333333333333333333333333337bb3797333333333333333333333333333333333333333333333333
333333333333333333333333333333331bbbbbb133333333333333333333333333333333333bbb73333333333333333333333333333333333333333333333333
333333333333333333333333333333331bbbbbb133333333333333333333333333333333333b3333333333333333333333333333333333333333333333333333
33333333333333333333333333333333311441133333333333333333333333333333333333bb3333333333333333333333333333333333333333333333333333
3333333333333333333333333333333333344333333333333333333333333333333333333bb33333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333555333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333335666533333333333333333333333333333333333333333333333333333bb3333333333333333333333333333333333333333333333333333333333
33333333331666133333333333333333333333333333333333333333333333333333b33333333333333333333333333333333333333333333333333333333333
33333333331666133333333333333333333333333336666333333333333333333bb3b33b33333333333333333333333333366663333333333333333333333333
333333333166666133333333333333333333333333666663333333333333333333b3b3bb33333333333333333333333333666663333333333333333333333333
333333333156666133333333333333333333333336666653333333333333333333b3b3b333333333333333333333333336666653333333333333333333333333
333333331555666133333333333333333333333335555533333333333333333333b3333333333333333333333333333335555533333333333333333333333333
33333333155555513333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333355333333333333333333333333333333333333333333333355333333333333333333333333333333333333333333333333333
333333333333333333333333335bb5333333333333333333333333333333333333333333335bb533333333333333333333333333333333333333333333333333
33333333333333333333333331bbbb13333333333333333333333333333333333333333331bbbb13333333333333333333333333333333333333333333333333
33333333333333333333333331bbbb13333333333333333333333333333333333333333331bbbb13333333333333333333333333333333333333333333333333
3333333333333333333333331bbbbbb133333333333333333333333333333333333333331bbbbbb1333333333333333333333333333333333333333333333333
3333333333333333333333331bbbbbb133333333333333333333333333333333333333331bbbbbb1333333333333333333333333333333333333333333333333
33333333333333333333333331144113333333333333333333333333333333333333333331144113333333333333333333333333333333333333333333333333
33333333333333333333333333344333333333333333333333333333333333333333333333344333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333337333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333379733373333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333337bb3797333333333333333333333333333333333333333333333333333333333333333333333333
333333333333333333333333333333333333333333333333333bbb73333333333333333333333333333333333333333333333333333333333333333333333333
333333333333333333333333333333333333333333333333333b3333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333bb3333333333333333333333333333333333333333333333333333333333333333333333333333
3333333333333333333333333333333333333333333333333bb33333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
333333333333bb3333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333bb333333333333333333
333333333333b33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333b3333333333333333333
333333333bb3b33b33333333333333333333333333333333333333333333333333333333333333333336666333333333333333333bb3b33b3333333333333333
3333333333b3b3bb333333333333333333333333333333333333333333333333333333355333553333666663333333333333333333b3b3bb3333333333333333
3333333333b3b3b3333333333333333333333333333333333333333333333333333555544555545336666653333333333333333333b3b3b33333333333333333
3333333333b33333333333333333333333333333333333333333333333333333335447549997755335555533333333333333333333b333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333544447599977753333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333335444447997597795333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333335444477995597795333333333333333333333333333333333333333333333333
3333333333333333333333333333333333333333333333333333333333333333544447799997fff5333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333335444447799777575333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333545555545555553333333333333333333333333333333333333333333333333
333333333333333333333333333333333333333333333333333333333333333335f53335f535f533333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333353333353335333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333ff3333333333333333333333333333333333333333333333333333333333333333333333ff3333333333333333333
3333333333333333333333333333333333ffff33333333333333333333333333333333333333333333333333333333333333333333ffff333333333333333333
333333333333333333333333333333333ff4fff333333333333333333333333333333333333333333333333333333333333333333ff4fff33333333333333333
333333333333333333333333333333333fffff4f33333333333333333333333333333333333333333333333333333333333333333fffff4f3333333333333333
33333333333333333333333333333333fff4ffff3333333333333333333333333333333333333333333333333333333333333333fff4ffff3333333333333333
33333333333333333333333333333333f4fff4f33333333333333333333333333333333333333333333333333333333333333333f4fff4f33333333333333333
333333333333333333333333333333333ff4fff333333333333333333333333333333333333333333333333333333333333333333ff4fff33333333333333333
3333333333333333333333333333333333fff333333333333333333333333333333333333333333333333333333333333333333333fff3333333333333333333
33333333333333333333333333355333333333333333333333333333333333333333333333333333333333333335533333333333333333333333333333333333
333333333333333333333333335bb53333333333333333333333333333333333333333333333333333333333335bb53333333333333333333333333333333333
33333333333333333333333331bbbb133333333333333333333333333333333333333333333333333333333331bbbb1333333333333333333333333333333333
33333333333333333333333331bbbb133333333333333333333333333333333333333333333333333333333331bbbb1333333333333333333333333333333333
3333333333333333333333331bbbbbb1333333333333333333333333333333333333333333333333333333331bbbbbb133333333333333333333333333333333
3333333333333333333333331bbbbbb1333333333333333333333333333333333333333333333333333333331bbbbbb133333333333333333333333333333333
33333333333333333333333331144113333333333333333333333333333333333333333333333333333333333114411333333333333333333333333333333333
33333333333333333333333333344333333333333333333333333333333333333333333333333333333333333334433333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333555333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333335666533333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333331666133333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333331666133333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333316666613333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333315666613333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333155566613333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333155555513333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333553333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333335bb5333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
3333333333333333333333333333333331bbbb133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
3333333333333333333333333333333331bbbb133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
333333333333333333333333333333331bbbbbb13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
333333333333333333333333333333331bbbbbb13333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333311441133333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333443333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333553333333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333337333333333333333333333333333333335bb5333333333333333333
3333333333333333333333333333333333333333333333333333333333333333333333337973337333333333333333333333333331bbbb133333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333337bb379733333333333333333333333331bbbb133333333333333333
333333333333333333333333333333333333333333333333333333333333333333333333333bbb733333333333333333333333331bbbbbb13333333333333333
333333333333333333333333333333333333333333333333333333333333333333333333333b33333333333333333333333333331bbbbbb13333333333333333
33333333333333333333333333333333333333333333333333333333333333333333333333bb3333333333333333333333333333311441133333333333333333
3333333333333333333333333333333333333333333333333333333333333333333333333bb33333333333333333333333333333333443333333333333333333
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

__map__
0505050505050505050705050505050505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050504050505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505040505050a05050505050605050505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050506050505050805050505050505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050505050505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
05070505050905050a0505050905050505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050605050505050605050505050505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050805050505050505050505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
050a05050505050505050905050a050505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050505050505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050504050505050505050504050505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050605050505050505060505050505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050507050505050505050505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050506050505050505050505050505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050805050506050505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
00050000000000205007050100501b050210501c050060500305003050060500d050150501b050160500605006050070500b0501305022050210500f05005050070500a050190502d0502e050280501605005050
